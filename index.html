<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FundChain - AI-Verified Investments</title>
    <script src="https://cdn.ethers.io/lib/ethers-6.6.0.umd.min.js"></script>
<script type="module" src="metamask-connect.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --lime: #CDDC39;
            --lime-dark: #9CCC1D;
            --purple: #9C27B0;
            --blue: #2196F3;
            --dark: #1a1a2e;
            --darker: #0f0f1e;
            --card: #2a2a3e;
            --text: #e0e0e0;
            --gray: #999;
            --green: #4CAF50;
            --red: #f44336;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--darker);
            color: var(--text);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Navigation Tabs */
        .nav-tabs {
            display: none;
        }

        .page {
            display: none;
            padding-bottom: 80px;
        }

        #tab-projects:checked ~ .page-projects,
        #tab-invest:checked ~ .page-invest,
        #tab-contracts:checked ~ .page-contracts,
        #tab-dashboard:checked ~ .page-dashboard,
        #tab-suggestions:checked ~ .page-suggestions,
        #tab-submit:checked ~ .page-submit {
            display: block;
        }

        /* Header */
        header {
            background: var(--dark);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 1.5rem 0;
            margin-bottom: 2rem;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--lime), var(--lime-dark));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tagline {
            font-size: 0.9rem;
            color: var(--gray);
            margin-top: 0.3rem;
        }

        /* Search Bar */
        .search-bar {
            width: 100%;
            max-width: 500px;
            margin: 1.5rem 0;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 0.8rem 1rem 0.8rem 2.5rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: var(--text);
            font-size: 0.9rem;
        }

        .search-bar input::placeholder {
            color: var(--gray);
        }

        .search-bar i {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }

        /* Filter Tabs */
        .filter-tabs {
            display: flex;
            gap: 1rem;
            margin: 1.5rem 0;
            overflow-x: auto;
            padding-bottom: 0.5rem;
        }

        .filter-btn {
            padding: 0.6rem 1.2rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text);
            border-radius: 20px;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .filter-btn:first-child {
            background: var(--lime);
            color: var(--dark);
            border-color: var(--lime);
        }

        .filter-btn:hover {
            border-color: var(--lime);
            color: var(--lime);
        }

        /* Stats Grid */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .stat-card {
            background: var(--card);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            text-align: center;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--lime);
            margin-bottom: 0.3rem;
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--gray);
        }

        /* Project Grid */
        .project-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .project-card {
            background: var(--card);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s;
        }

        .project-card:hover {
            transform: translateY(-4px);
            border-color: var(--lime);
            box-shadow: 0 8px 24px rgba(205, 220, 57, 0.15);
        }

        .project-header {
            background: linear-gradient(135deg, rgba(205, 220, 57, 0.2), rgba(156, 39, 176, 0.2));
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        .project-icon {
            font-size: 2.5rem;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(205, 220, 57, 0.1);
            border-radius: 8px;
        }

        .project-rating {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 0.9rem;
            color: var(--lime);
        }

        .project-body {
            padding: 1.5rem;
        }

        .project-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.3rem;
        }

        .project-desc {
            font-size: 0.85rem;
            color: var(--gray);
            margin-bottom: 1rem;
        }

        .project-badges {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .badge {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            background: rgba(156, 39, 176, 0.2);
            color: var(--purple);
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .badge.ai {
            background: rgba(76, 175, 80, 0.2);
            color: var(--green);
        }

        .project-metrics {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin: 1rem 0;
            padding: 1rem 0;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .metric {
            text-align: center;
        }

        .metric-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--lime);
        }

        .metric-label {
            font-size: 0.75rem;
            color: var(--gray);
        }

        .risk-rating {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.85rem;
            color: var(--gray);
            margin: 1rem 0;
        }

        .risk-low {
            color: var(--green);
        }

        .risk-medium {
            color: #ff9800;
        }

        .risk-high {
            color: var(--red);
        }

        .btn {
            padding: 0.7rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            width: 100%;
            justify-content: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--lime), var(--lime-dark));
            color: var(--dark);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(205, 220, 57, 0.3);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .btn-secondary:hover {
            border-color: var(--lime);
            color: var(--lime);
        }

        /* Contract Details */
        .contract-item {
            background: var(--card);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            margin-bottom: 1rem;
        }

        .contract-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .contract-title {
            font-size: 1rem;
            font-weight: 600;
        }

        .contract-status {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 0.2rem 0.6rem;
            background: rgba(76, 175, 80, 0.2);
            color: var(--green);
            border-radius: 12px;
            font-size: 0.75rem;
        }

        .milestone {
            background: rgba(255, 255, 255, 0.02);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 0.8rem;
            border-left: 3px solid var(--lime);
        }

        .milestone-title {
            font-weight: 600;
            margin-bottom: 0.3rem;
        }

        .milestone-progress {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin-top: 0.5rem;
        }

        .milestone-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--lime), var(--lime-dark));
            width: 75%;
        }

        /* Investment Form */
        .investment-form {
            background: var(--card);
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            max-width: 600px;
            margin: 2rem auto;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .currency-toggle {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .currency-btn {
            flex: 1;
            padding: 0.8rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .currency-btn.active {
            background: var(--lime);
            color: var(--dark);
            border-color: var(--lime);
        }

        .amount-input {
            width: 100%;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: var(--text);
            font-size: 1rem;
        }

        .preset-amounts {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.8rem;
            margin-top: 1rem;
        }

        .preset-btn {
            padding: 0.6rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text);
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.3s;
        }

        .preset-btn:hover {
            border-color: var(--lime);
            color: var(--lime);
        }

        .smart-contract-box {
            background: rgba(156, 39, 176, 0.1);
            border: 1px solid rgba(156, 39, 176, 0.3);
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
            margin: 1.5rem 0;
        }

        .smart-contract-box h3 {
            margin-bottom: 0.3rem;
        }

        .smart-contract-features {
            display: flex;
            justify-content: center;
            gap: 1rem;
            font-size: 0.8rem;
            color: var(--gray);
            margin-top: 0.8rem;
        }

        /* Dashboard */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .dashboard-card {
            background: var(--card);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .dashboard-card h3 {
            margin-bottom: 1rem;
            font-size: 0.95rem;
        }

        .roi-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--lime);
            margin-bottom: 0.5rem;
        }

        .roi-label {
            font-size: 0.8rem;
            color: var(--gray);
        }

        /* Submission Form */
        .submission-form {
            background: var(--card);
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            max-width: 700px;
            margin: 2rem auto;
        }

        .form-input, .form-textarea {
            width: 100%;
            padding: 0.8rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: var(--text);
            font-family: inherit;
            margin-bottom: 1rem;
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--dark);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-around;
            padding: 0.8rem 0;
            z-index: 1000;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.3rem;
            cursor: pointer;
            color: var(--gray);
            text-decoration: none;
            font-size: 0.75rem;
            transition: all 0.3s;
            flex: 1;
        }

        .nav-item i {
            font-size: 1.3rem;
        }

        #tab-projects:checked ~ .bottom-nav label[for="tab-projects"],
        #tab-invest:checked ~ .bottom-nav label[for="tab-invest"],
        #tab-contracts:checked ~ .bottom-nav label[for="tab-contracts"],
        #tab-dashboard:checked ~ .bottom-nav label[for="tab-dashboard"],
        #tab-suggestions:checked ~ .bottom-nav label[for="tab-suggestions"],
        #tab-submit:checked ~ .bottom-nav label[for="tab-submit"] {
            color: var(--lime);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .project-grid {
                grid-template-columns: 1fr;
            }

            .preset-amounts {
                grid-template-columns: repeat(2, 1fr);
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Tabs (Hidden) -->
    <input type="radio" id="tab-projects" name="page" class="nav-tabs" checked>
    <input type="radio" id="tab-invest" name="page" class="nav-tabs">
    <input type="radio" id="tab-contracts" name="page" class="nav-tabs">
    <input type="radio" id="tab-dashboard" name="page" class="nav-tabs">
    <input type="radio" id="tab-submit" name="page" class="nav-tabs">
    <!-- Added new AI Suggestions tab -->
    <input type="radio" id="tab-suggestions" name="page" class="nav-tabs">

    <!-- Projects Marketplace Page -->
    <div class="page page-projects">
        <header>
            <div class="container">
                <div class="header-content">
                    <div>
                        <div class="logo">
                            <i class="fas fa-rocket"></i> FundChain
                        </div>
                        <div class="tagline">AI-verified investments with smart contracts</div>
                    </div>
                </div>
            </div>
        </header>

        <main class="container">
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Search projects by name or category...">
            </div>

            <div class="filter-tabs">
                <button class="filter-btn">All</button>
                <button class="filter-btn">AI Verified</button>
                <button class="filter-btn">Low Risk</button>
                <button class="filter-btn">High ROI</button>
                <button class="filter-btn">Active</button>
            </div>

            <div class="project-grid">
                <!-- Project 1 -->
                <div class="project-card">
                    <div class="project-header">
                        <div class="project-icon"><i class="fas fa-brain"></i></div>
                        <div class="project-rating"><i class="fas fa-arrow-up"></i> 8.5/10</div>
                    </div>
                    <div class="project-body">
                        <div class="project-title">AI Analytics Platform</div>
                        <div class="project-badges">
                            <span class="badge ai"><i class="fas fa-check"></i> AI Verified</span>
                            <span class="badge">SaaS</span>
                        </div>
                        <div class="project-desc">Real-time data analytics for enterprises</div>
                        <div class="project-metrics">
                            <div class="metric">
                                <div class="metric-value">$500K</div>
                                <div class="metric-label">Target Raise</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value">45%</div>
                                <div class="metric-label">Funded</div>
                            </div>
                        </div>
                        <div class="risk-rating"><i class="fas fa-shield"></i> <span class="risk-low">Low Risk</span></div>
                        <div style="font-size: 0.85rem; color: var(--lime); margin: 0.5rem 0;">ROI: 35% projected</div>
                        <button class="btn btn-primary">Invest Now</button>
                    </div>
                </div>

                <!-- Project 2 -->
                <div class="project-card">
                    <div class="project-header">
                        <div class="project-icon"><i class="fas fa-leaf"></i></div>
                        <div class="project-rating"><i class="fas fa-arrow-up"></i> 7.8/10</div>
                    </div>
                    <div class="project-body">
                        <div class="project-title">GreenTech Solutions</div>
                        <div class="project-badges">
                            <span class="badge ai"><i class="fas fa-check"></i> AI Verified</span>
                            <span class="badge">Climate</span>
                        </div>
                        <div class="project-desc">Sustainable energy optimization</div>
                        <div class="project-metrics">
                            <div class="metric">
                                <div class="metric-value">$1.2M</div>
                                <div class="metric-label">Target Raise</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value">62%</div>
                                <div class="metric-label">Funded</div>
                            </div>
                        </div>
                        <div class="risk-rating"><i class="fas fa-shield"></i> <span class="risk-medium">Medium Risk</span></div>
                        <div style="font-size: 0.85rem; color: var(--lime); margin: 0.5rem 0;">ROI: 28% projected</div>
                        <button class="btn btn-primary">Invest Now</button>
                    </div>
                </div>

                <!-- Project 3 -->
                <div class="project-card">
                    <div class="project-header">
                        <div class="project-icon"><i class="fas fa-shield-alt"></i></div>
                        <div class="project-rating"><i class="fas fa-arrow-up"></i> 9.1/10</div>
                    </div>
                    <div class="project-body">
                        <div class="project-title">CyberGuard Security</div>
                        <div class="project-badges">
                            <span class="badge ai"><i class="fas fa-check"></i> AI Verified</span>
                            <span class="badge">Security</span>
                        </div>
                        <div class="project-desc">Enterprise cybersecurity platform</div>
                        <div class="project-metrics">
                            <div class="metric">
                                <div class="metric-value">$800K</div>
                                <div class="metric-label">Target Raise</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value">78%</div>
                                <div class="metric-label">Funded</div>
                            </div>
                        </div>
                        <div class="risk-rating"><i class="fas fa-shield"></i> <span class="risk-low">Low Risk</span></div>
                        <div style="font-size: 0.85rem; color: var(--lime); margin: 0.5rem 0;">ROI: 42% projected</div>
                        <button class="btn btn-primary">Invest Now</button>
                    </div>
                </div>

                <!-- Project 4 -->
                <div class="project-card">
                    <div class="project-header">
                        <div class="project-icon"><i class="fas fa-dna"></i></div>
                        <div class="project-rating"><i class="fas fa-arrow-up"></i> 7.2/10</div>
                    </div>
                    <div class="project-body">
                        <div class="project-title">BioTech Innovations</div>
                        <div class="project-badges">
                            <span class="badge">Healthcare</span>
                        </div>
                        <div class="project-desc">Gene therapy research platform</div>
                        <div class="project-metrics">
                            <div class="metric">
                                <div class="metric-value">$2M</div>
                                <div class="metric-label">Target Raise</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value">31%</div>
                                <div class="metric-label">Funded</div>
                            </div>
                        </div>
                        <div class="risk-rating"><i class="fas fa-shield"></i> <span class="risk-high">High Risk</span></div>
                        <div style="font-size: 0.85rem; color: var(--lime); margin: 0.5rem 0;">ROI: 120% projected</div>
                        <button class="btn btn-primary">Invest Now</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Investment Page -->
    <div class="page page-invest">
        <header>
            <div class="container">
                <div class="header-content">
                    <div>
                        <div class="logo">
                            <i class="fas fa-dollar-sign"></i> Make Investment
                        </div>
                        <div class="tagline">Secure funding with smart contracts</div>
                    </div>
                </div>
            </div>
        </header>

        <main class="container">
            <div class="investment-form">
                <div style="background: rgba(205, 220, 57, 0.1); padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem; text-align: center;">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;"><i class="fas fa-brain"></i></div>
                    <div style="font-weight: 600; margin-bottom: 0.3rem;">AI Analytics Platform</div>
                    <div style="font-size: 0.9rem; color: var(--gray);">SaaS</div>
                    <div style="color: var(--lime); margin-top: 0.5rem;"><i class="fas fa-check"></i> AI Verified • Low Risk</div>
                </div>

                <div class="form-group">
                    <label>Investment Amount</label>
                    <div class="currency-toggle">
                        <button class="currency-btn active">USD</button>
                        <button class="currency-btn">ETH</button>
                    </div>
                </div>

                <div class="form-group">
                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.8rem;">
                        <span style="font-size: 1.2rem;">$</span>
                        <input type="number" class="amount-input" placeholder="Enter amount" value="5000">
                    </div>
                    <div class="preset-amounts">
                        <button class="preset-btn">$1K</button>
                        <button class="preset-btn">$5K</button>
                        <button class="preset-btn">$10K</button>
                        <button class="preset-btn">$50K</button>
                    </div>
                </div>

                <div class="smart-contract-box">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;"><i class="fas fa-link"></i></div>
                    <h3>Smart Contract Secured</h3>
                    <p>Funds locked until milestones verified</p>
                    <div class="smart-contract-features">
                        <span><i class="fas fa-lock"></i> Secure Lock</span>
                        <span><i class="fas fa-check"></i> Auto Release</span>
                        <span><i class="fas fa-chain"></i> On-Chain</span>
                    </div>
                </div>

                <button class="btn btn-primary" style="margin-top: 1.5rem;">
                    <i class="fas fa-wallet"></i> Connect MetaMask & Invest
                </button>

                <div style="text-align: center; margin-top: 1rem; font-size: 0.85rem; color: var(--gray);">
                    Expected ROI: 35% | Gas Fee: ~$2.50
                </div>
            </div>
        </main>
    </div>

    <!-- Smart Contracts Page -->
    <div class="page page-contracts">
        <header>
            <div class="container">
                <div class="header-content">
                    <div>
                        <div class="logo">
                            <i class="fas fa-link"></i> Smart Contracts
                        </div>
                        <div class="tagline">Transparent milestone tracking on-chain</div>
                    </div>
                </div>
            </div>
        </header>

        <main class="container">
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Search by project or contract ID...">
            </div>

            <div class="filter-tabs">
                <button class="filter-btn">All</button>
                <button class="filter-btn">Active</button>
                <button class="filter-btn">Completed</button>
                <button class="filter-btn">Pending</button>
            </div>

            <div class="stats">
                <div class="stat-card">
                    <div class="stat-value">$125K</div>
                    <div class="stat-label">Total Invested</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">8</div>
                    <div class="stat-label">Active Contracts</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">3</div>
                    <div class="stat-label">Completed</div>
                </div>
            </div>

            <!-- Contract 1 -->
            <div class="contract-item">
                <div class="contract-header">
                    <div>
                        <div class="contract-title">AI Analytics Platform - Series A</div>
                        <div style="font-size: 0.8rem; color: var(--gray); margin-top: 0.3rem;">Contract: 0x7a8b9c0d...</div>
                    </div>
                    <span class="contract-status"><i class="fas fa-check"></i> Active</span>
                </div>

                <div style="margin-bottom: 1rem;">
                    <div style="font-size: 0.9rem; margin-bottom: 0.5rem;">Your Investment: <span style="color: var(--lime);">$25,000</span></div>
                    <div style="font-size: 0.9rem;">Expected Return: <span style="color: var(--lime);">$33,750</span> (35% ROI)</div>
                </div>

                <div style="margin-bottom: 1rem;">
                    <div style="font-size: 0.85rem; font-weight: 600; margin-bottom: 0.5rem;">Milestones</div>
                    
                    <div class="milestone">
                        <div class="milestone-title"><i class="fas fa-check" style="color: var(--green);"></i> MVP Launch</div>
                        <div style="font-size: 0.8rem; color: var(--gray);">Completed • Jan 15, 2025</div>
                        <div class="milestone-progress">
                            <div class="milestone-bar" style="width: 100%;"></div>
                        </div>
                    </div>

                    <div class="milestone">
                        <div class="milestone-title"><i class="fas fa-clock" style="color: var(--lime);"></i> Beta Testing</div>
                        <div style="font-size: 0.8rem; color: var(--gray);">In Progress • 75% Complete</div>
                        <div class="milestone-progress">
                            <div class="milestone-bar" style="width: 75%;"></div>
                        </div>
                    </div>

                    <div class="milestone">
                        <div class="milestone-title"><i class="fas fa-hourglass-start" style="color: var(--gray);"></i> Series B Funding</div>
                        <div style="font-size: 0.8rem; color: var(--gray);">Pending • 0% Complete</div>
                        <div class="milestone-progress">
                            <div class="milestone-bar" style="width: 0%;"></div>
                        </div>
                    </div>
                </div>

                <button class="btn btn-secondary">View on Blockchain</button>
            </div>

            <!-- Contract 2 -->
            <div class="contract-item">
                <div class="contract-header">
                    <div>
                        <div class="contract-title">CyberGuard Security - Seed Round</div>
                        <div style="font-size: 0.8rem; color: var(--gray); margin-top: 0.3rem;">Contract: 0x3e4f5g6h...</div>
                    </div>
                    <span class="contract-status"><i class="fas fa-check"></i> Active</span>
                </div>

                <div style="margin-bottom: 1rem;">
                    <div style="font-size: 0.9rem; margin-bottom: 0.5rem;">Your Investment: <span style="color: var(--lime);">$50,000</span></div>
                    <div style="font-size: 0.9rem;">Expected Return: <span style="color: var(--lime);">$71,000</span> (42% ROI)</div>
                </div>

                <div style="margin-bottom: 1rem;">
                    <div style="font-size: 0.85rem; font-weight: 600; margin-bottom: 0.5rem;">Milestones</div>
                    
                    <div class="milestone">
                        <div class="milestone-title"><i class="fas fa-check" style="color: var(--green);"></i> Product Development</div>
                        <div style="font-size: 0.8rem; color: var(--gray);">Completed • Dec 20, 2024</div>
                        <div class="milestone-progress">
                            <div class="milestone-bar" style="width: 100%;"></div>
                        </div>
                    </div>

                    <div class="milestone">
                        <div class="milestone-title"><i class="fas fa-clock" style="color: var(--lime);"></i> Customer Acquisition</div>
                        <div style="font-size: 0.8rem; color: var(--gray);">In Progress • 50% Complete</div>
                        <div class="milestone-progress">
                            <div class="milestone-bar" style="width: 50%;"></div>
                        </div>
                    </div>
                </div>

                <button class="btn btn-secondary">View on Blockchain</button>
            </div>
        </main>
    </div>

    <!-- Investor Dashboard Page -->
    <div class="page page-dashboard">
        <header>
            <div class="container">
                <div class="header-content">
                    <div>
                        <div class="logo">
                            <i class="fas fa-chart-line"></i> Dashboard
                        </div>
                        <div class="tagline">Your investment analytics</div>
                    </div>
                </div>
            </div>
        </header>

        <main class="container">
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>Total Invested</h3>
                    <div class="roi-value">$125,000</div>
                    <div class="roi-label">Across 8 projects</div>
                </div>

                <div class="dashboard-card">
                    <h3>Projected Returns</h3>
                    <div class="roi-value">$168,750</div>
                    <div class="roi-label">+35% average ROI</div>
                </div>

                <div class="dashboard-card">
                    <h3>Portfolio Value</h3>
                    <div class="roi-value">$142,500</div>
                    <div class="roi-label">+14% current gain</div>
                </div>

                <div class="dashboard-card">
                    <h3>Risk Score</h3>
                    <div class="roi-value">6.8/10</div>
                    <div class="roi-label">Moderate Risk</div>
                </div>
            </div>

            <div style="background: var(--card); padding: 2rem; border-radius: 12px; margin: 2rem 0; border: 1px solid rgba(255, 255, 255, 0.05);">
                <h3 style="margin-bottom: 1rem;">Portfolio Breakdown</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                    <div style="text-align: center; padding: 1rem; background: rgba(205, 220, 57, 0.1); border-radius: 8px;">
                        <div style="font-size: 1.5rem; color: var(--lime); font-weight: 700;">45%</div>
                        <div style="font-size: 0.85rem; color: var(--gray);">SaaS</div>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: rgba(76, 175, 80, 0.1); border-radius: 8px;">
                        <div style="font-size: 1.5rem; color: var(--green); font-weight: 700;">30%</div>
                        <div style="font-size: 0.85rem; color: var(--gray);">Climate Tech</div>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: rgba(156, 39, 176, 0.1); border-radius: 8px;">
                        <div style="font-size: 1.5rem; color: var(--purple); font-weight: 700;">25%</div>
                        <div style="font-size: 0.85rem; color: var(--gray);">Healthcare</div>
                    </div>
                </div>
            </div>

            <div style="background: var(--card); padding: 2rem; border-radius: 12px; border: 1px solid rgba(255, 255, 255, 0.05);">
                <h3 style="margin-bottom: 1rem;">Recent Activity</h3>
                <div style="font-size: 0.9rem; color: var(--gray);">
                    <div style="padding: 0.8rem 0; border-bottom: 1px solid rgba(255, 255, 255, 0.05);">
                        <span style="color: var(--lime);">+$25,000</span> invested in AI Analytics Platform • Jan 20
                    </div>
                    <div style="padding: 0.8rem 0; border-bottom: 1px solid rgba(255, 255, 255, 0.05);">
                        Milestone completed: MVP Launch • Jan 15
                    </div>
                    <div style="padding: 0.8rem 0;">
                        <span style="color: var(--lime);">+$50,000</span> invested in CyberGuard Security • Jan 10
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Project Submission Page -->
    <div class="page page-submit">
        <header>
            <div class="container">
                <div class="header-content">
                    <div>
                        <div class="logo">
                            <i class="fas fa-plus-circle"></i> Submit Project
                        </div>
                        <div class="tagline">Get AI verified and funded</div>
                    </div>
                </div>
            </div>
        </header>

        <main class="container">
            <div class="submission-form">
                <div style="background: rgba(76, 175, 80, 0.1); padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem; border: 1px solid rgba(76, 175, 80, 0.3);">
                    <div style="font-size: 1.2rem; margin-bottom: 0.5rem;"><i class="fas fa-brain"></i> AI Verification Process</div>
                    <div style="font-size: 0.85rem; color: var(--gray);">Our ML model analyzes your project for success likelihood, market fit, and team strength.</div>
                </div>

                <div class="form-group">
                    <label>Project Name</label>
                    <input type="text" class="form-input" placeholder="e.g., AI Analytics Platform">
                </div>

                <div class="form-group">
                    <label>Category</label>
                    <select class="form-input" style="cursor: pointer;">
                        <option>Select category...</option>
                        <option>SaaS</option>
                        <option>Climate Tech</option>
                        <option>Healthcare</option>
                        <option>Security</option>
                        <option>Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Description</label>
                    <textarea class="form-textarea" placeholder="Describe your project, market opportunity, and team..."></textarea>
                </div>

                <div class="form-group">
                    <label>Funding Target (USD)</label>
                    <input type="number" class="form-input" placeholder="e.g., 500000">
                </div>

                <div class="form-group">
                    <label>Team Size</label>
                    <input type="number" class="form-input" placeholder="e.g., 5">
                </div>

                <div class="form-group">
                    <label>Website / Demo Link</label>
                    <input type="url" class="form-input" placeholder="https://...">
                </div>

                <button class="btn btn-primary" style="margin-top: 1.5rem;">
                    <i class="fas fa-paper-plane"></i> Submit for AI Verification
                </button>

                <div style="text-align: center; margin-top: 1rem; font-size: 0.85rem; color: var(--gray);">
                    Verification typically takes 24-48 hours
                </div>
            </div>
        </main>
    </div>

    <!-- AI Suggestions Page -->
    <!-- New page for AI-powered recommendations -->
    <div class="page page-suggestions">
        <header>
            <div class="container">
                <div class="header-content">
                    <div>
                        <div class="logo">
                            <i class="fas fa-sparkles"></i> AI Suggestions
                        </div>
                        <div class="tagline">Personalized recommendations powered by machine learning</div>
                    </div>
                </div>
            </div>
        </header>

        <main class="container">
            <div class="filter-tabs">
                <button class="filter-btn">For Investors</button>
                <button class="filter-btn">For Creators</button>
            </div>

            <!-- Investor Recommendations Section -->
            <div style="margin-bottom: 3rem;">
                <h2 style="font-size: 1.3rem; margin-bottom: 1.5rem; color: var(--lime);">
                    <i class="fas fa-target"></i> Recommended Projects for You
                </h2>
                <p style="color: var(--gray); margin-bottom: 1.5rem; font-size: 0.9rem;">
                    Based on your portfolio and investment preferences, AI identified these high-potential projects
                </p>

                <div class="project-grid">
                    <!-- Recommendation 1 -->
                    <div class="project-card">
                        <div class="project-header">
                            <div class="project-icon"><i class="fas fa-robot"></i></div>
                            <div style="display: flex; flex-direction: column; align-items: flex-end; gap: 0.5rem;">
                                <div class="project-rating"><i class="fas fa-arrow-up"></i> 8.9/10</div>
                                <div style="background: rgba(76, 175, 80, 0.2); color: var(--green); padding: 0.3rem 0.8rem; border-radius: 12px; font-size: 0.75rem; font-weight: 600;">
                                    <i class="fas fa-brain"></i> 94% Match
                                </div>
                            </div>
                        </div>
                        <div class="project-body">
                            <div class="project-title">ML Automation Suite</div>
                            <div class="project-badges">
                                <span class="badge ai"><i class="fas fa-check"></i> AI Verified</span>
                                <span class="badge">AI/ML</span>
                            </div>
                            <div class="project-desc">Automated workflow optimization for enterprises</div>
                            <div style="background: rgba(76, 175, 80, 0.1); padding: 0.8rem; border-radius: 8px; margin: 1rem 0; font-size: 0.85rem;">
                                <div style="color: var(--green); font-weight: 600; margin-bottom: 0.3rem;">
                                    <i class="fas fa-lightbulb"></i> Why recommended:
                                </div>
                                <div style="color: var(--gray);">Matches your SaaS focus & risk tolerance. Similar team profile to your past investments.</div>
                            </div>
                            <div class="project-metrics">
                                <div class="metric">
                                    <div class="metric-value">$750K</div>
                                    <div class="metric-label">Target Raise</div>
                                </div>
                                <div class="metric">
                                    <div class="metric-value">38%</div>
                                    <div class="metric-label">Funded</div>
                                </div>
                            </div>
                            <div class="risk-rating"><i class="fas fa-shield"></i> <span class="risk-low">Low Risk</span></div>
                            <div style="font-size: 0.85rem; color: var(--lime); margin: 0.5rem 0;">ROI: 38% projected</div>
                            <button class="btn btn-primary">Invest Now</button>
                        </div>
                    </div>

                    <!-- Recommendation 2 -->
                    <div class="project-card">
                        <div class="project-header">
                            <div class="project-icon"><i class="fas fa-cloud"></i></div>
                            <div style="display: flex; flex-direction: column; align-items: flex-end; gap: 0.5rem;">
                                <div class="project-rating"><i class="fas fa-arrow-up"></i> 8.3/10</div>
                                <div style="background: rgba(76, 175, 80, 0.2); color: var(--green); padding: 0.3rem 0.8rem; border-radius: 12px; font-size: 0.75rem; font-weight: 600;">
                                    <i class="fas fa-brain"></i> 87% Match
                                </div>
                            </div>
                        </div>
                        <div class="project-body">
                            <div class="project-title">CloudScale Infrastructure</div>
                            <div class="project-badges">
                                <span class="badge ai"><i class="fas fa-check"></i> AI Verified</span>
                                <span class="badge">Cloud</span>
                            </div>
                            <div class="project-desc">Scalable cloud infrastructure for startups</div>
                            <div style="background: rgba(76, 175, 80, 0.1); padding: 0.8rem; border-radius: 8px; margin: 1rem 0; font-size: 0.85rem;">
                                <div style="color: var(--green); font-weight: 600; margin-bottom: 0.3rem;">
                                    <i class="fas fa-lightbulb"></i> Why recommended:
                                </div>
                                <div style="color: var(--gray);">Strong market demand. Experienced founding team. Complements your tech portfolio.</div>
                            </div>
                            <div class="project-metrics">
                                <div class="metric">
                                    <div class="metric-value">$1M</div>
                                    <div class="metric-label">Target Raise</div>
                                </div>
                                <div class="metric">
                                    <div class="metric-value">55%</div>
                                    <div class="metric-label">Funded</div>
                                </div>
                            </div>
                            <div class="risk-rating"><i class="fas fa-shield"></i> <span class="risk-low">Low Risk</span></div>
                            <div style="font-size: 0.85rem; color: var(--lime); margin: 0.5rem 0;">ROI: 32% projected</div>
                            <button class="btn btn-primary">Invest Now</button>
                        </div>
                    </div>

                    <!-- Recommendation 3 -->
                    <div class="project-card">
                        <div class="project-header">
                            <div class="project-icon"><i class="fas fa-chart-bar"></i></div>
                            <div style="display: flex; flex-direction: column; align-items: flex-end; gap: 0.5rem;">
                                <div class="project-rating"><i class="fas fa-arrow-up"></i> 7.9/10</div>
                                <div style="background: rgba(76, 175, 80, 0.2); color: var(--green); padding: 0.3rem 0.8rem; border-radius: 12px; font-size: 0.75rem; font-weight: 600;">
                                    <i class="fas fa-brain"></i> 82% Match
                                </div>
                            </div>
                        </div>
                        <div class="project-body">
                            <div class="project-title">FinTech Analytics Pro</div>
                            <div class="project-badges">
                                <span class="badge">FinTech</span>
                                <span class="badge">Analytics</span>
                            </div>
                            <div class="project-desc">Real-time financial data analytics platform</div>
                            <div style="background: rgba(76, 175, 80, 0.1); padding: 0.8rem; border-radius: 8px; margin: 1rem 0; font-size: 0.85rem;">
                                <div style="color: var(--green); font-weight: 600; margin-bottom: 0.3rem;">
                                    <i class="fas fa-lightbulb"></i> Why recommended:
                                </div>
                                <div style="color: var(--gray);">Diversifies your portfolio. Growing market. Regulatory compliance verified.</div>
                            </div>
                            <div class="project-metrics">
                                <div class="metric">
                                    <div class="metric-value">$600K</div>
                                    <div class="metric-label">Target Raise</div>
                                </div>
                                <div class="metric">
                                    <div class="metric-value">42%</div>
                                    <div class="metric-label">Funded</div>
                                </div>
                            </div>
                            <div class="risk-rating"><i class="fas fa-shield"></i> <span class="risk-medium">Medium Risk</span></div>
                            <div style="font-size: 0.85rem; color: var(--lime); margin: 0.5rem 0;">ROI: 40% projected</div>
                            <button class="btn btn-primary">Invest Now</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Creator Recommendations Section -->
            <div style="border-top: 1px solid rgba(255, 255, 255, 0.1); padding-top: 3rem;">
                <h2 style="font-size: 1.3rem; margin-bottom: 1.5rem; color: var(--lime);">
                    <i class="fas fa-users"></i> Suggested Investors for Your Project
                </h2>
                <p style="color: var(--gray); margin-bottom: 1.5rem; font-size: 0.9rem;">
                    AI identified investors who align with your project profile and funding needs
                </p>

                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem;">
                    <!-- Investor 1 -->
                    <div class="project-card">
                        <div class="project-header">
                            <div style="display: flex; align-items: center; gap: 1rem; width: 100%;">
                                <div class="project-icon" style="width: 60px; height: 60px; font-size: 2rem;">
                                    <i class="fas fa-user-tie"></i>
                                </div>
                                <div style="flex: 1;">
                                    <div class="project-title">Sarah Chen</div>
                                    <div style="font-size: 0.8rem; color: var(--gray);">Venture Capitalist</div>
                                </div>
                            </div>
                        </div>
                        <div class="project-body">
                            <div style="background: rgba(76, 175, 80, 0.1); padding: 0.8rem; border-radius: 8px; margin-bottom: 1rem; text-align: center;">
                                <div style="color: var(--green); font-weight: 600; font-size: 1.1rem;">
                                    <i class="fas fa-brain"></i> 91% Compatibility
                                </div>
                            </div>

                            <div style="margin-bottom: 1rem;">
                                <div style="font-size: 0.85rem; font-weight: 600; margin-bottom: 0.5rem;">Investment Profile:</div>
                                <div style="font-size: 0.8rem; color: var(--gray);">
                                    <div>• Focuses: SaaS, AI/ML, Enterprise</div>
                                    <div>• Avg Check: $250K - $1M</div>
                                    <div>• Portfolio: 45+ companies</div>
                                </div>
                            </div>

                            <div style="background: rgba(156, 39, 176, 0.1); padding: 0.8rem; border-radius: 8px; margin-bottom: 1rem; font-size: 0.85rem;">
                                <div style="color: var(--purple); font-weight: 600; margin-bottom: 0.3rem;">
                                    <i class="fas fa-star"></i> Why matched:
                                </div>
                                <div style="color: var(--gray);">Your AI/ML focus aligns perfectly. She invests in your stage & geography.</div>
                            </div>

                            <button class="btn btn-primary">Connect</button>
                        </div>
                    </div>

                    <!-- Investor 2 -->
                    <div class="project-card">
                        <div class="project-header">
                            <div style="display: flex; align-items: center; gap: 1rem; width: 100%;">
                                <div class="project-icon" style="width: 60px; height: 60px; font-size: 2rem;">
                                    <i class="fas fa-briefcase"></i>
                                </div>
                                <div style="flex: 1;">
                                    <div class="project-title">TechVentures Fund</div>
                                    <div style="font-size: 0.8rem; color: var(--gray);">Investment Fund</div>
                                </div>
                            </div>
                        </div>
                        <div class="project-body">
                            <div style="background: rgba(76, 175, 80, 0.1); padding: 0.8rem; border-radius: 8px; margin-bottom: 1rem; text-align: center;">
                                <div style="color: var(--green); font-weight: 600; font-size: 1.1rem;">
                                    <i class="fas fa-brain"></i> 88% Compatibility
                                </div>
                            </div>

                            <div style="margin-bottom: 1rem;">
                                <div style="font-size: 0.85rem; font-weight: 600; margin-bottom: 0.5rem;">Investment Profile:</div>
                                <div style="font-size: 0.8rem; color: var(--gray);">
                                    <div>• Focuses: Cloud, Infrastructure, DevTools</div>
                                    <div>• Avg Check: $500K - $2M</div>
                                    <div>• Portfolio: 120+ companies</div>
                                </div>
                            </div>

                            <div style="background: rgba(156, 39, 176, 0.1); padding: 0.8rem; border-radius: 8px; margin-bottom: 1rem; font-size: 0.85rem;">
                                <div style="color: var(--purple); font-weight: 600; margin-bottom: 0.3rem;">
                                    <i class="fas fa-star"></i> Why matched:
                                </div>
                                <div style="color: var(--gray);">Large fund with strong track record. Actively investing in your sector.</div>
                            </div>

                            <button class="btn btn-primary">Connect</button>
                        </div>
                    </div>

                    <!-- Investor 3 -->
                    <div class="project-card">
                        <div class="project-header">
                            <div style="display: flex; align-items: center; gap: 1rem; width: 100%;">
                                <div class="project-icon" style="width: 60px; height: 60px; font-size: 2rem;">
                                    <i class="fas fa-user-circle"></i>
                                </div>
                                <div style="flex: 1;">
                                    <div class="project-title">Marcus Rodriguez</div>
                                    <div style="font-size: 0.8rem; color: var(--gray);">Angel Investor</div>
                                </div>
                            </div>
                        </div>
                        <div class="project-body">
                            <div style="background: rgba(76, 175, 80, 0.1); padding: 0.8rem; border-radius: 8px; margin-bottom: 1rem; text-align: center;">
                                <div style="color: var(--green); font-weight: 600; font-size: 1.1rem;">
                                    <i class="fas fa-brain"></i> 85% Compatibility
                                </div>
                            </div>

                            <div style="margin-bottom: 1rem;">
                                <div style="font-size: 0.85rem; font-weight: 600; margin-bottom: 0.5rem;">Investment Profile:</div>
                                <div style="font-size: 0.8rem; color: var(--gray);">
                                    <div>• Focuses: Early-stage, Diverse sectors</div>
                                    <div>• Avg Check: $50K - $250K</div>
                                    <div>• Portfolio: 30+ companies</div>
                                </div>
                            </div>

                            <div style="background: rgba(156, 39, 176, 0.1); padding: 0.8rem; border-radius: 8px; margin-bottom: 1rem; font-size: 0.85rem;">
                                <div style="color: var(--purple); font-weight: 600; margin-bottom: 0.3rem;">
                                    <i class="fas fa-star"></i> Why matched:
                                </div>
                                <div style="color: var(--gray);">Hands-on mentor. Invests in early-stage. Great for first funding round.</div>
                            </div>

                            <button class="btn btn-primary">Connect</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <label for="tab-projects" class="nav-item">
            <i class="fas fa-rocket"></i>
            <span>Projects</span>
        </label>
        <label for="tab-invest" class="nav-item">
            <i class="fas fa-dollar-sign"></i>
            <span>Invest</span>
        </label>
        <label for="tab-contracts" class="nav-item">
            <i class="fas fa-link"></i>
            <span>Contracts</span>
        </label>
        <label for="tab-dashboard" class="nav-item">
            <i class="fas fa-chart-line"></i>
            <span>Dashboard</span>
        </label>
        <!-- Added AI Suggestions nav item -->
        <label for="tab-suggestions" class="nav-item">
            <i class="fas fa-sparkles"></i>
            <span>AI</span>
        </label>
        <label for="tab-submit" class="nav-item">
            <i class="fas fa-plus-circle"></i>
            <span>Submit</span>
        </label>
    </div>
    <!-- ✅ Investment Bill Modal Script (White Professional Version) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const connectBtn = Array.from(document.querySelectorAll(".btn.btn-primary"))
    .find(b => /meta/i.test(b.innerText) || /connect/i.test(b.innerText));

  if (!connectBtn) {
    console.warn("⚠️ Connect MetaMask & Invest button not found.");
    return;
  }

  // Create modal container
  const modal = document.createElement("div");
  modal.id = "billModal";
  Object.assign(modal.style, {
    position: "fixed",
    inset: "0",
    display: "none",
    alignItems: "center",
    justifyContent: "center",
    background: "rgba(0,0,0,0.6)",
    zIndex: 9999,
    padding: "20px"
  });

  const box = document.createElement("div");
  Object.assign(box.style, {
    width: "100%",
    maxWidth: "520px",
    background: "#ffffff",
    color: "#111827",
    borderRadius: "12px",
    padding: "28px",
    boxShadow: "0 12px 40px rgba(0,0,0,0.15)",
    fontFamily: "system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif",
    animation: "fadeIn .3s ease"
  });
  modal.appendChild(box);
  document.body.appendChild(modal);

  // Keyframes
  const style = document.createElement("style");
  style.textContent = `
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(8px); }
      to { opacity: 1; transform: translateY(0); }
    }
  `;
  document.head.appendChild(style);

  function makeTxHash() {
    return '0x' + Array.from({ length: 64 }, () =>
      Math.floor(Math.random() * 16).toString(16)
    ).join('');
  }

  function showBill({ investor, amountEth, txHash, blockNumber, contractAddr }) {
    box.innerHTML = `
      <div style="display:flex; justify-content:space-between; align-items:center;">
        <h2 style="margin:0; font-size:1.25rem; color:#111;">Investment Receipt</h2>
        <button id="closeBill" style="background:none;border:none;color:#9ca3af;font-size:1.25rem;cursor:pointer;">✕</button>
      </div>

      <div style="margin-top:12px; font-size:0.95rem;">
        <p><strong>Investor Address:</strong> <span style="color:#2563eb">${investor}</span></p>
        <p><strong>Amount Invested:</strong> <span style="color:#16a34a">${amountEth} ETH</span></p>
        <p><strong>Transaction Hash:</strong> 
          <a href="https://sepolia.etherscan.io/tx/${txHash}" target="_blank" style="color:#2563eb; text-decoration:none;">
            ${txHash.slice(0, 28)}...
          </a>
        </p>
        <p><strong>Block Number:</strong> ${blockNumber}</p>
        <p><strong>Network:</strong> <span style="color:#475569;">Sepolia</span></p>
        <p><strong>Smart Contract:</strong> 
          <a href="https://sepolia.etherscan.io/address/${contractAddr}" target="_blank" style="color:#2563eb; text-decoration:none;">
            ${contractAddr}
          </a>
        </p>
        <p style="color:#16a34a; margin-top:10px;"><strong>Status:</strong> ✅ Smart Contract Initialized</p>
        <p style="color:#6b7280; font-size:0.85rem;">Timestamp: ${new Date().toLocaleString()}</p>
      </div>

      <hr style="border:none; border-top:1px solid #e5e7eb; margin:16px 0;">

      <div style="display:flex; gap:10px; justify-content:flex-end;">
        <button id="copyTxBtn" style="padding:8px 12px;border:none;border-radius:8px;background:#3b82f6;color:#fff;cursor:pointer;">
          🔗 Copy Tx Hash
        </button>
        <button id="downloadPdfBtn" style="padding:8px 12px;border:none;border-radius:8px;background:#16a34a;color:#fff;cursor:pointer;">
          📄 Download PDF
        </button>
      </div>

      <div style="text-align:center; margin-top:16px; font-size:0.85rem; color:#9ca3af;">
        Verified by <span style="color:#2563eb; font-weight:600;">FundChain Smart Contract</span>
      </div>
    `;

    modal.style.display = "flex";

    document.getElementById("closeBill").onclick = () => {
      modal.style.display = "none";
    };

    // Copy Tx Hash
    document.getElementById("copyTxBtn").onclick = async () => {
      try {
        await navigator.clipboard.writeText(txHash);
        const btn = document.getElementById("copyTxBtn");
        btn.textContent = "Copied!";
        setTimeout(() => (btn.textContent = "🔗 Copy Tx Hash"), 1500);
      } catch {
        alert("Clipboard copy failed.");
      }
    };

    // Download PDF
    document.getElementById("downloadPdfBtn").onclick = () => {
      const { jsPDF } = window.jspdf;
      const pdf = new jsPDF({ unit: "pt", format: "a4" });
      pdf.setFontSize(18);
      pdf.text("FundChain Investment Receipt", 40, 60);
      pdf.setFontSize(12);
      let y = 100;
      const lines = [
        `Investor Address: ${investor}`,
        `Amount Invested: ${amountEth} ETH`,
        `Transaction Hash: ${txHash}`,
        `Block Number: ${blockNumber}`,
        `Network: Sepolia`,
        `Smart Contract: ${contractAddr}`,
        `Status: Smart Contract Initialized`,
        `Timestamp: ${new Date().toLocaleString()}`
      ];
      lines.forEach(line => { pdf.text(line, 40, y); y += 20; });
      pdf.save("FundChain_Investment_Receipt.pdf");
    };
  }

  // On MetaMask Connect
  connectBtn.addEventListener("click", async () => {
    const amountEl = document.querySelector(".amount-input");
    const amountRaw = amountEl ? amountEl.value : "0";
    const amountEth = (parseFloat(amountRaw) / 2000 || 0.05).toFixed(4); // USD→ETH mock rate

    let userAddress = "0x0000000000000000000000000000000000000000";
    if (window.ethereum) {
      try {
        const accounts = await window.ethereum.request({ method: "eth_requestAccounts" });
        userAddress = accounts[0];
      } catch (err) {
        console.warn("MetaMask connection failed:", err);
      }
    }

    const txHash = makeTxHash();
    const blockNumber = Math.floor(Math.random() * 10000000) + 1000000;
    const contractAddr = "0x4F83b23E9cE23d10a44A314B520D2f48A2F299c7"; // your Sepolia contract

    showBill({
      investor: userAddress,
      amountEth,
      txHash,
      blockNumber,
      contractAddr
    });
  });
});
</script>

</body>
</html>
